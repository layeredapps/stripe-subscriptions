<!DOCTYPE html>
<html lang="en" data-navbar="/account/subscriptions/navbar-billing-profile.html">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8" />
    <title translate="yes">Add payment method</title>
    <link href="/public/content.css" rel="stylesheet">
    <link href="/public/content-additional.css" rel="stylesheet">
    <base href="/" target="_top">
    <script id="stripe-v3" src="https://js.stripe.com/v3/"></script>
    <script id="common-v3" src="/public/subscriptions/subscriptions.js"></script>
    <script id="handler-v3" src="/public/subscriptions/stripe-v3-add-payment-method.js"></script>
  </head>
  <body>
    <div class="container">
      <h1 translate="yes">Add payment method</h1>
      <div id="message-container"></div>
      <form id="form-stripejs-v3" method="post" class="input-form" action="/account/subscriptions/add-payment-method?customerid=${customer.customerid}" name="form-stripejs-v3">
        <input type="hidden" id="stripe-publishable-key" />
        <input type="hidden" name="token" id="token">
        <div id="card-errors"></div>
        <div class="input-fields">
          <label class="field-label" translate="yes">Card number</label>
          <div class="field">
            <div id="card-container"></div>
          </div>
        </div>
        <div class="input-fields tiny-field">
          <label class="field-label" for="cvc">CVC</label>
          <div class="field"><div id="cvc-container"></div>
        </div>
        <div class="input-fields tiny-field">
          <label class="field-label" for="mm" translate="yes">Expiry</label>
          <div class="field"><div id="expiry-container"></div></div>
        </div>
        <div class="input-fields">
          <label class="field-label" for="name" translate="yes">Name on card</label>
          <div class="field">
            <input required="" id="name" name="name" type="text" maxlength="1000">
          </div>
        </div>
        <div class="input-fields">
          <label class="field-label" for="address_line1" translate="yes">Address line 1</label>
          <div class="field">
            <input id="address_line1" name="address_line1" type="text" maxlength="1000">
          </div>
        </div>
        <div class="input-fields">
          <label class="field-label" for="address_line2" translate="yes">Address line 2</label>
          <div class="field">
            <input id="address_line2" name="address_line2" type="text" maxlength="1000">
          </div>
        </div>
        <div class="input-fields">
          <label class="field-label" for="address_city" translate="yes">City</label>
          <div class="field">
            <input id="address_city" name="address_city" type="text" maxlength="1000">
          </div>
        </div>
        <div class="input-fields">
          <label class="field-label" for="address_state" translate="yes">State or province</label>
          <div class="field">
            <select id="address_state" name="address_state">
              <option value="" translate="yes">
                Select state
              </option>
            </select>
          </div>
        </div>
        <div class="input-fields">
          <label class="field-label" translate="yes">Postal code</label>
          <div class="field">
            <div id="zip-container"></div>
          </div>
        </div>
        <div class="input-fields">
          <label class="field-label" for="address_country" translate="yes">Country</label>
          <div class="field">
            <select id="address_country" name="address_country">
              <option value="" translate="yes">
                Select country
              </option>
            </select>
            </div>
          </div>
        <div class="form-buttons">
          <button id="submit-button" ype="submit" translate="yes">Save profile</button>
          <button class="button" type="submit" name="refresh" value="true" translate="yes">Change country</button>
        </div>
      </form>
      <form id="form-nojs" method="post" class="input-form" action="/account/subscriptions/add-payment-method?customerid=${customer.customerid}" name="form-nojs">
        <input type="hidden" id="stripe-publishable-key" />
        <div class="input-fields">
          <label class="field-label" for="description" translate="yes">Profile description</label>
          <div class="field">
            <input required="" id="description" name="description" type="text" maxlength="100">
          </div>
        </div>
        <div class="input-fields">
          <label class="field-label" for="email" translate="yes">Contact email</label>
          <div class="field">
            <input required="" id="email" name="email" type="text" maxlength="100">
          </div>
        </div>
        <div class="input-fields">
          <label class="field-label" for="number" translate="yes">Card</label>
          <div class="field">
            <input name="number" rqeuired="" id="number" type="text" maxlength="19">
          </div>
        </div>
        <div class="input-fields">
          <label class="field-label" for="cvc">CVC</label>
          <div class="field tiny-field">
            <input name="cvc" required="" id="cvc" type="text" maxlength="3">
          </div>
        </div>
        <div class="input-fields">
          <label class="field-label" for="mm" translate="yes">Expiry</label>
          <div class="field tiny-field">
            <input name="exp_month" required="" placeholder="MM" id="exp_month" type="text" maxlength="2">
            <input name="exp_year" required="" placeholder="YY" id="exp_year" type="text" maxlength="2">
          </div>
        </div>
        <div class="input-fields">
          <label class="field-label" for="name" translate="yes">Name on card</label>
          <div class="field">
            <input required="" id="name" name="name" type="text" maxlength="1000">
          </div>
        </div>
        <div class="input-fields">
          <label class="field-label" for="address_line1" translate="yes">Address line 1</label>
          <div class="field">
            <input id="address_line1" name="address_line1" type="text" maxlength="1000">
          </div>
        </div>
        <div class="input-fields">
          <label class="field-label" for="address_line2" translate="yes">Address line 2</label>
          <div class="field">
            <input id="address_line2" name="address_line2" type="text" maxlength="1000">
          </div>
        </div>
        <div class="input-fields">
          <label class="field-label" for="address_city" translate="yes">City</label>
          <div class="field">
            <input id="address_city" name="address_city" type="text" maxlength="1000">
          </div>
        </div>
        <div class="input-fields">
          <label class="field-label" for="address_state" translate="yes">State or province</label>
          <div class="field">
            <select id="address_state" name="address_state">
              <option value="" translate="yes">
                Select state
              </option>
            </select>
          </div>
        </div>
        <div id="zip-container" class="input-fields">
          <label class="field-label" for="address_zip">ZIP</label>
          <div class="field">
            <input id="address_zip" name="address_zip" type="text" maxlength="1000">
          </div>
        </div>
        <div class="input-fields">
          <label class="field-label" for="address_country" translate="yes">Country</label>
          <div class="field">
            <select name="address_country" id="address_country">
              <option value="" translate="yes">
                Select country
              </option>
            </select>
          </div>
        </div>
        <div class="form-buttons">
          <button id="submit-button" class="button" type="submit" translate="yes">Save profile</button>
          <button class="button" type="submit" name="refresh" value="true" translate="yes">Change country</button>
        </div>
      </form>
    </div>
    <template id="country-option">
      <option value="${country.code}">
        ${country.name}
      </option>
    </template>
    <template id="state-option">
      <option value="${state.code}">
        ${state.name}
      </option>
    </template>
    <template id="invalid-token">
      <div class="error message" translate="yes">
        Error! An error occurred saving your card
      </div>
    </template>
    <template id="invalid-name">
      <div class="error message" translate="yes">
        Error! Invalid or missing name
      </div>
    </template>
    <template id="invalid-number">
      <div class="error message" translate="yes">
        Error! Invalid or missing card number
      </div>
    </template>
    <template id="invalid-cvc">
      <div class="error message" translate="yes">
        Error! Invalid or missing CVC number
      </div>
    </template>
    <template id="invalid-exp_month">
      <div class="error message" translate="yes">
        Error! Invalid or missing expiration month
      </div>
    </template>
    <template id="invalid-exp_year">
      <div class="error message" translate="yes">
        Error! Invalid or missing expiration year
      </div>
    </template>
    <template id="success">
      <div class="success message" translate="yes">
        Success! The billing profile has been created
      </div>
    </template>
    <template id="unknown-error">
      <div class="error message" translate="yes">
        Error! An error occurred updating your information
      </div>
    </template>
  </body>
</html>